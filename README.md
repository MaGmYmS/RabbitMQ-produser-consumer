# RabbitMQ Link Scraper

## Описание

Это два консольных приложения, использующих RabbitMQ для асинхронной обработки ссылок. Первое приложение получает URL, находит все внутренние ссылки на странице и отправляет их в очередь RabbitMQ. Второе приложение слушает эту очередь, извлекает ссылки и снова находит внутренние ссылки, которые помещает обратно в очередь.

## Требования

- Python 3.6+
- Установленные библиотеки:
  - `requests`
  - `beautifulsoup4`
  - `pika`

## Установка

1. Клонируйте репозиторий:

    ```bash
    git clone <your-repository-url>
    cd <repository-folder>
    ```

2. Установите зависимости:

    ```bash
    pip install -requirements.txt requirements.txt
    ```

3. Убедитесь, что у вас установлен и настроен RabbitMQ. Если RabbitMQ работает локально, его настройки можно оставить по умолчанию.

4. Создайте файл `.env` и добавьте туда параметры подключения RabbitMQ (или настройте переменные окружения):

    ```text
    RABBITMQ_URL=amqp://guest:guest@localhost/
    QUEUE_TIMEOUT=10
    ```

## Запуск

1. Запустите **потребитель (consumer)**:

    ```bash
    python consumer_links.py
    ```

    Этот скрипт будет слушать очередь и обрабатывать ссылки.

2. Запустите **поставщика (producer)**:

    ```bash
    python producer_links.py
    ```

    Введите URL, с которого нужно собрать ссылки. Скрипт найдет все внутренние ссылки и отправит их в очередь RabbitMQ.

3. Обе программы будут работать асинхронно, а потребитель будет извлекать ссылки из очереди и обрабатывать их.

## Логирование

Каждый обработанный URL и ссылка будет выведена в консоль, чтобы вы могли отслеживать прогресс обработки.

## Примечания

- Скрипт обрабатывает как абсолютные, так и относительные ссылки.
- Если очередь пуста в течение 10 секунд, потребитель завершит работу.
